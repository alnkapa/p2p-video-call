<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>P2P –í–∏–¥–µ–æ-–∑–≤–æ–Ω–æ–∫</title>
    <meta name="description" content="–ë–µ—Å–ø–ª–∞—Ç–Ω—ã–π P2P –≤–∏–¥–µ–æ-–∑–≤–æ–Ω–æ–∫ —Å WebRTC">
    <link rel="stylesheet" href="style.css">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üìû</text></svg>">
</head>
<body>
    <div id="app">
        <header class="header">
            <h1>üìû P2P Video Call</h1>
            <p>–ë–µ–∑–æ–ø–∞—Å–Ω—ã–µ peer-to-peer –≤–∏–¥–µ–æ-–∑–≤–æ–Ω–∫–∏ –ø—Ä—è–º–æ –≤ –±—Ä–∞—É–∑–µ—Ä–µ</p>
        </header>

        <!-- –§–æ—Ä–º–∞ –∏–Ω–∏—Ü–∏–∞—Ç–æ—Ä–∞ -->
        <div id="initiator-form" class="form-container">
            <div class="card">
                <h2>–°–æ–∑–¥–∞—Ç—å –≤–∏–¥–µ–æ–∑–≤–æ–Ω–æ–∫</h2>
                <p>–°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—É—é —Å–µ—Å—Å–∏—é –∏ –ø—Ä–∏–≥–ª–∞—Å–∏—Ç–µ –¥—Ä—É–≥–∞</p>
                <button id="create-call" class="btn-primary">–°–æ–∑–¥–∞—Ç—å –∑–≤–æ–Ω–æ–∫</button>
                <div id="share-link" class="hidden">
                    <div class="share-section">
                        <p>–ü–æ–¥–µ–ª–∏—Ç–µ—Å—å —ç—Ç–æ–π —Å—Å—ã–ª–∫–æ–π:</p>
                        <div class="link-container">
                            <input type="text" id="call-link" readonly>
                            <button id="copy-link" class="btn-secondary">–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å</button>
                        </div>
                        <div class="qr-code hidden" id="qr-code"></div>
                        <button id="show-qr" class="btn-secondary">–ü–æ–∫–∞–∑–∞—Ç—å QR –∫–æ–¥</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- –§–æ—Ä–º–∞ –≤–µ–¥–æ–º–æ–≥–æ -->
        <div id="joiner-form" class="form-container hidden">
            <div class="card">
                <h2>–ü—Ä–∏—Å–æ–µ–¥–∏–Ω–∏—Ç—å—Å—è –∫ –∑–≤–æ–Ω–∫—É</h2>
                <p>–í–≤–µ–¥–∏—Ç–µ ID —Å–µ—Å—Å–∏–∏ –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å—Å—ã–ª–∫—É</p>
                <input type="text" id="session-id" placeholder="–í–≤–µ–¥–∏—Ç–µ ID —Å–µ—Å—Å–∏–∏">
                <button id="join-call" class="btn-primary">–ü—Ä–∏—Å–æ–µ–¥–∏–Ω–∏—Ç—å—Å—è</button>
            </div>
        </div>

        <!-- –í–∏–¥–µ–æ –æ–∫–Ω–æ -->
        <div id="video-container" class="hidden">
            <div class="video-grid">
                <div class="video-wrapper">
                    <video id="local-video" autoplay muted playsinline></video>
                    <div class="video-overlay">
                        <span>–í—ã</span>
                        <div class="video-indicators">
                            <span id="video-indicator" class="indicator video-on">üìπ</span>
                            <span id="audio-indicator" class="indicator audio-on">üé§</span>
                        </div>
                    </div>
                </div>
                <div class="video-wrapper">
                    <video id="remote-video" autoplay playsinline></video>
                    <div class="video-overlay">
                        <span>–£—á–∞—Å—Ç–Ω–∏–∫</span>
                        <span id="remote-status" class="status">–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ...</span>
                    </div>
                </div>
            </div>
            
            <div class="controls">
                <button id="toggle-video" class="control-btn" title="–í–∫–ª—é—á–∏—Ç—å/–≤—ã–∫–ª—é—á–∏—Ç—å –≤–∏–¥–µ–æ">
                    <span class="icon">üìπ</span>
                    <span class="text">–í—ã–∫–ª –≤–∏–¥–µ–æ</span>
                </button>
                <button id="toggle-audio" class="control-btn" title="–í–∫–ª—é—á–∏—Ç—å/–≤—ã–∫–ª—é—á–∏—Ç—å –º–∏–∫—Ä–æ—Ñ–æ–Ω">
                    <span class="icon">üé§</span>
                    <span class="text">–í—ã–∫–ª –∞—É–¥–∏–æ</span>
                </button>
                <button id="switch-camera" class="control-btn" title="–°–º–µ–Ω–∏—Ç—å –∫–∞–º–µ—Ä—É">
                    <span class="icon">üì∑</span>
                    <span class="text">–°–º–µ–Ω–∞ –∫–∞–º–µ—Ä—ã</span>
                </button>
                <button id="end-call" class="control-btn end-call" title="–ó–∞–≤–µ—Ä—à–∏—Ç—å –∑–≤–æ–Ω–æ–∫">
                    <span class="icon">üìû</span>
                    <span class="text">–ó–∞–≤–µ—Ä—à–∏—Ç—å</span>
                </button>
            </div>
            
            <div id="status" class="status-message">–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ...</div>
        </div>

        <footer class="footer">
            <p>–ò—Å–ø–æ–ª—å–∑—É–µ—Ç WebRTC –¥–ª—è P2P —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è. –ò—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥ –Ω–∞ 
                <a href="https://github.com/yourusername/p2p-video-call" target="_blank">GitHub</a>
            </p>
        </footer>
    </div>

    <!-- –ü–æ–¥–∫–ª—é—á–∞–µ–º QR –∫–æ–¥ –±–∏–±–ª–∏–æ—Ç–µ–∫—É -->
    <script src="https://cdn.jsdelivr.net/npm/qrcode@1.5.3/build/qrcode.min.js"></script>
    <script src="script.js"></script>
</body>
</html>
